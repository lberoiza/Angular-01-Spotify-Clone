<div
  id="playlist-container"
  class="relative flex flex-col h-full overflow-x-hidden bg-gradient-to-t from-50% from-zinc-900 via-zinc-900/90"
  [style.view-transition-name]="'playlist_' + playlistDetails?.id +'_box'"
  [style.background-color]="playlistDetails?.color?.accent"
>
  <header class="flex flex-row gap-8 px-6 mt-12">
    <picture class="aspect-square w-52 h-52 flex-none"
             [style.view-transition-name]="'playlist_' + playlistDetails?.id +'_image'">
      @if (isLoading) {
        <loading-image/>
      } @else {
        <img
          [src]="playlistDetails?.cover"
          alt="Cover of {{playlistDetails?.title}}"
          class="object-cover w-full h-auto shadow-lg"
        />
      }
    </picture>

    <div class="flex flex-col justify-between">
      <h2 class="flex flex-1 items-end">Playlist</h2>
      <div>
        <h1 class="text-5xl font-bold block text-white">
          <span [style.view-transition-name]="'playlist_' + playlistDetails?.id +'_title'">
            {{ playlistDetails?.title }}
          </span>
        </h1>
      </div>

      <div class="flex-1 flex items-end">
        <div class="text-sm text-gray-300 font-normal">
          <div [style.view-transition-name]="'playlist_' + playlistDetails?.id +'_artists'">
            <span>{{ songArtistAsString(playlistDetails?.artists || []) }}</span>
          </div>
          <p class="mt-1">
            <span class="text-white">{{ playlistSongs.length }} canciones</span>,
            {{ playlistDuration.hours }} horas, {{ playlistDuration.minutes }} minutos y {{ playlistDuration.seconds }}
            segundos aproximadamente
          </p>
        </div>
      </div>
    </div>
  </header>


  @if (!isLoading) {
    <div class="pl-6 pt-6">
      <playlist-button-play buttonSize="large" [playlistId]="playlistDetails?.id"/>
    </div>

    <section class="p-6">
      <playlist-details-musictable [songs]="playlistSongs"/>
    </section>
  }


</div>
